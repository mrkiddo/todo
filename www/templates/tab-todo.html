<ion-view view-title="Todo List">
  <ion-content>
    <div>
      <button class="button button-full button-balanced btn-refresh" style="margin:0;" ng-click="refresh()">
        <i class="icon ion-refresh"></i>
      </button>
      <button class="button button-full button-calm" style="margin:0;" ng-click="openModal()">
        <i class="icon ion-plus-round"></i> New item
      </button>
    </div>
    <div class="list">

      <div class="padding" ng-show="hint" ng-bind="hint" align="center"></div>

      <div class="row" ng-repeat="todo in todos" style="padding-left:0;">
        <div class="col col-80" style="padding-left:0;">
          <ion-checkbox style="border:0;" ng-model="todo.state" ng-true-value="'YES'" ng-false-value="'NO'" ng-change="change(todo.id, todo.state)">
            {{todo.title}}
          </ion-checkbox>
        </div>
        <div class="col" style="padding-left:0;">
          <button class="button button-clear button-assertive" ng-click="delete(todo.id, $index)">
            <strong>Delete</strong>
          </button>
        </div>
      </div>

    </div>

    <script id="my-modal.html" type="text/ng-template">
      <ion-modal-view>
        <ion-header-bar>
          <h1 class="title">New Todo</h1>
        </ion-header-bar>
        <ion-content>
          <div class="list">
            <label class="item item-input item-stacked-label">
              <span class="input-label">Title</span>
              <input type="text" placeholder="Type something" ng-model="form.title">
            </label>
            <label class="item item-input item-stacked-label">
              <span class="input-label">Description</span>
              <input type="text" placeholder="Type something" ng-model="form.content">
            </label>
          </div>
          <div class="padding">
            <button class="button button-full button-balanced" ng-click="create(form)" ng-disabled="!(form.title&&form.content) || onload">Create</button>
            <button class="button button-full button-energized" ng-click="cancel()" ng-disabled="onload">Cancel</button>
          </div>
        </ion-content>
      </ion-modal-view>
    </script>
  </ion-content>
</ion-view>
